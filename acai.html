<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pastelaria do Fumaça - Açaí & Milkshake</title>
  <link rel="stylesheet" href="styleacai.css" />
</head>
<body>
  <header>
  <div class="menu-icon" id="menuBtn">&#9776;</div>
  <ul class="menu" id="menu">
    <li><a href="index.html">Início</a></li>
    <li><a href="pastel.html">Pastel</a></li>
    <li><a href="hamburguer.html">Hambúrguer</a></li>
    <li><a href="bebidas.html">Sucos e refrigerantes</a></li>
    <li><a href="acai.html">Açaí e Milk-Shake</a></li>
    <li><a href="pedido.html">Carrinho</a></li>
  </ul>
  <div class="title">Faça seu pedido!</div>
</header>

  <main>
    <section id="acai-form">
      <h3>Açaí</h3>
      <label>Tamanho:
        <select id="acai-tamanho">
          <option value="300 ml" data-preco="13.00">300 ml - R$13,00</option>
          <option value="400 ml" data-preco="17.00">400 ml - R$17,00</option>
          <option value="550 ml" data-preco="20.00">550 ml - R$20,00</option>
          <option value="700 ml" data-preco="26.00">700 ml - R$26,00</option>
        </select>
      </label>

      <fieldset>
        <legend>Acompanhamentos:</legend>
        <label><input type="checkbox" value="Ovomaltine" class="acompanhamento-acai"> Ovomaltine</label>
        <label><input type="checkbox" value="Paçoca" class="acompanhamento-acai"> Paçoca</label>
        <label><input type="checkbox" value="MM" class="acompanhamento-acai"> MM</label>
        <label><input type="checkbox" value="Leite em pó" class="acompanhamento-acai"> Leite em Pó</label>
        <label><input type="checkbox" value="Leite Condensado" class="acompanhamento-acai"> Leite Condensado</label>
        <label><input type="checkbox" value="Granola" class="acompanhamento-acai"> Granola</label>
      </fieldset>

      <label><input type="checkbox" id="acai-extra-nutella"> Nutella (+R$7,00)</label>
      <br>
      <button id="adicionar-acai">Adicionar ao carrinho</button>
      <div>Preço estimado: R$ <span id="preco-acai">0.00</span></div>
    </section>

    <section id="milkshake-form">
      <h2>Milkshake 400 ml R$15,00 </h2>
      <fieldset>
        <legend>Sabor:</legend>
        <label><input type="radio" name="sabor" value="Morango" data-preco="15.00" checked> Morango</label>
        <label><input type="radio" name="sabor" value="Paçoca" data-preco="15.00"> Paçoca</label>
        <label><input type="radio" name="sabor" value="Ovomaltine" data-preco="15.00"> Ovomaltine</label>
      </fieldset> 
      <button id="adicionar-milkshake">Adicionar ao carrinho</button>
      <div>Preço estimado: R$ <span id="preco-milkshake">15.00</span></div>
    </section>

    <section id="vitamina-form">
      <h2>Vitamina de Açaí 400 ml - R$20,00</h2>
      <h3>Escolha seus adicionais:</h3>
      <label><input type="checkbox" class="extra"> Banana</label><br>
      <label><input type="checkbox" class="extra"> Granola</label><br>
      <label><input type="checkbox" class="extra"> Leite Condensado</label><br>
      <label><input type="checkbox" class="extra"> Paçoca</label><br>
      <label><input type="checkbox" class="extra"> Leite</label><br><br>
      <button id="adicionar-vitamina">Adicionar ao carrinho</button>
      <div>Preço estimado: R$ <span id="preco-vitamina">20.00</span></div>
    </section>
  </main>
<script>
  // Função geral para adicionar itens ao carrinho
function adicionarAoCarrinho(nome, preco) {
  let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];
  carrinho.push({ nome, preco: Number(preco) });
  localStorage.setItem('carrinho', JSON.stringify(carrinho));
  alert(`${nome} foi adicionado ao carrinho!`);
}

// Função para atualizar preço estimado de Açaí
function atualizarPrecoAcai() {
  const tamanhoSelect = document.getElementById('acai-tamanho');
  const precoBase = parseFloat(tamanhoSelect.selectedOptions[0].dataset.preco);
  let precoFinal = precoBase;
  if (document.getElementById('acai-extra-nutella').checked) precoFinal += 7;
  document.querySelector('#preco-acai').textContent = precoFinal.toFixed(2);
  return precoFinal;
}

// Adicionar Açaí ao carrinho
document.getElementById('adicionar-acai').addEventListener('click', () => {
  const tamanhoSelect = document.getElementById('acai-tamanho');
  const tamanho = tamanhoSelect.value;
  const adicionais = Array.from(document.querySelectorAll('.acompanhamento-acai:checked')).map(i => i.value);
  let precoFinal = atualizarPrecoAcai();
  const nomeItem = `Açaí ${tamanho}${adicionais.length ? ' + ' + adicionais.join(', ') : ''}`;
  adicionarAoCarrinho(nomeItem, precoFinal);
});

// Atualiza preço ao mudar tamanho ou selecionar Nutella
document.getElementById('acai-tamanho').addEventListener('change', atualizarPrecoAcai);
document.getElementById('acai-extra-nutella').addEventListener('change', atualizarPrecoAcai);

// Adicionar Milkshake ao carrinho
document.getElementById('adicionar-milkshake').addEventListener('click', () => {
  const sabor = document.querySelector('input[name="sabor"]:checked').value;
  const preco = parseFloat(document.querySelector('input[name="sabor"]:checked').dataset.preco);
  const nomeItem = `Milkshake ${sabor}`;
  adicionarAoCarrinho(nomeItem, preco);
});

// Adicionar Vitamina ao carrinho
document.getElementById('adicionar-vitamina').addEventListener('click', () => {
  const extras = Array.from(document.querySelectorAll('#vitamina-form .extra:checked')).map(i => i.value);
  const precoBase = 20;
  const precoFinal = precoBase; // você pode adicionar valores extras por adicional se quiser
  const nomeItem = `Vitamina${extras.length ? ' + ' + extras.join(', ') : ''}`;
  adicionarAoCarrinho(nomeItem, precoFinal);
});

// Controle do menu mobile
document.addEventListener('DOMContentLoaded', () => {
  const menuToggle = document.getElementById("menuBtn");
  const navMenu = document.getElementById("menu");
  if (!menuToggle || !navMenu) return;

  menuToggle.addEventListener("click", (e) => {
    e.stopPropagation();
    navMenu.classList.toggle("open");
  });

  document.addEventListener("click", (e) => {
    if (!navMenu.contains(e.target) && e.target !== menuToggle) {
      navMenu.classList.remove("open");
    }
  });
});
</script>

</body>
</html>
